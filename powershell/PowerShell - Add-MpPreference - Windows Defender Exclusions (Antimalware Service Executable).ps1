# Exclusions list for Stock Windows10 Antivirus/Antimalware
#		--> e.g. "Windows Security"
#		--> e.g. "Windows Defender"
#		--> e.g. "Antimalware Service Executable" (which causes high cpu-usage while blocking non-excluded processes)


#
#
#				REFER TO MODULE --> "WindowsDefenderExclusions"
#
#

# Add a filepath-based exclusion
Add-MpPreference -ExclusionPath ((${Env:SystemDrive})+("\Program Files\Git\cmd\git.exe"));

# Add a process-based exclusion
Add-MpPreference -ExclusionProcess ((${Env:SystemDrive})+("\Program Files\Git\cmd\git.exe"));

# Add an extension-based exclusion
Add-MpPreference -ExclusionExtension ".csv";

# Review the list of exclusions
$GetMp = Get-MpPreference; `
Write-Host "`nExclusions - File Extensions:"; If ($GetMp.ExclusionExtension -eq $Null) { Write-Host "None"; } Else { $GetMp.ExclusionExtension; } `
Write-Host "`nExclusions - Processes:"; If ($GetMp.ExclusionProcess -eq $Null) { Write-Host "None"; } Else { $GetMp.ExclusionProcess; } `
Write-Host "`nExclusions - Paths:"; If ($GetMp.ExclusionPath -eq $Null) { Write-Host "None"; } Else { $GetMp.ExclusionPath; } `
Write-Host "`n";


#
# Citation(s)
#
#		docs.microsoft.com
#			"Add-MpPreference"
#			 https://docs.microsoft.com/en-us/powershell/module/defender/add-mppreference?view=win10-ps
#
#		docs.microsoft.com
#			"Configure and validate exclusions based on file extension and folder location"
#			 https://docs.microsoft.com/en-us/windows/security/threat-protection/windows-defender-antivirus/configure-extension-file-exclusions-windows-defender-antivirus
#